# ==============================================================================#
#  requirements.txt
#
#  Production-Grade Dependency Specification for:
#  "Taming Tail Risk in Financial Markets: Conformal Risk Control for
#   Nonstationary Portfolio VaR"
#
#  Author: CS Chirinda
#  Version: 1.0.0
#  Python Version: >=3.9,<3.13
#
#  Installation:
#    pip install -r requirements.txt
#
#  For development environment with testing and type checking:
#    pip install -r requirements.txt -r requirements-dev.txt
#
# ==============================================================================#

# ------------------------------------------------------------------------------
# Core Numerical Computing & Scientific Libraries
# ------------------------------------------------------------------------------

# NumPy: Vectorized array operations, rolling window computations, weighted
# quantile algorithms, Euclidean distance matrices, numerical stability routines
# (log-sum-exp), and efficient memory-mapped arrays for large-scale backtesting.
# Version >=1.21.0 required for stable type annotations and improved performance
# in ufuncs. Version <2.0.0 to avoid breaking changes in v2.x series.
numpy>=1.21.0,<2.0.0

# Pandas: Time series data structures for CRSP returns, DatetimeIndex for strict
# temporal ordering, rolling window aggregations (realized volatility), corporate
# action-adjusted return calculations, and survivorship-bias-free data handling.
# Version >=1.3.0 required for window operations with custom engines. Version
# <3.0.0 to avoid v2.x deprecations that affect legacy indexing patterns.
pandas>=1.3.0,<3.0.0

# SciPy: Statistical distributions (scipy.stats) for hypothesis testing, Kupiec
# Proportion of Failures (POF) test via chi-squared distribution, Christoffersen
# Markov Chain test for conditional coverage, kernel density estimation, and
# specialized numerical integration routines for robust confidence intervals.
# Version >=1.7.0 required for improved stats module API. Version <2.0.0 to
# maintain compatibility with current statistical test implementations.
scipy>=1.7.0,<2.0.0

# ------------------------------------------------------------------------------
# Machine Learning & Quantile Regression
# ------------------------------------------------------------------------------

# scikit-learn: Gradient Boosting Decision Trees (GBDT) for base quantile
# forecasting via GradientBoostingRegressor with loss='quantile'. Includes
# ensemble regularization (learning rate, max_depth, subsample), temporal
# cross-validation utilities (TimeSeriesSplit), and feature scaling
# (StandardScaler) with training-set-only statistics to prevent look-ahead bias.
# Version >=1.0.0 required for stable quantile loss implementation in GBDT.
# Version <2.0.0 to avoid API changes in model persistence and hyperparameter
# validation.
scikit-learn>=1.0.0,<2.0.0

# ------------------------------------------------------------------------------
# Optional: Enhanced Visualization & Reporting (Recommended for Backtesting)
# ------------------------------------------------------------------------------

# Matplotlib: Publication-quality figures for VaR backtest visualizations,
# exceedance rate time series, effective sample size (ESS) diagnostics, and
# bandwidth ablation sensitivity plots. Version >=3.4.0 for constrained_layout
# and improved LaTeX rendering.
matplotlib>=3.4.0,<4.0.0

# Seaborn: Statistical data visualization for regime feature distributions,
# correlation heatmaps of $(RV21, MOM21)$ features, and Christoffersen test
# result summaries. Version >=0.11.0 for compatibility with pandas 1.3+.
seaborn>=0.11.0,<1.0.0

# ------------------------------------------------------------------------------
# Optional: Performance Profiling & Optimization (For Large-Scale Backtests)
# ------------------------------------------------------------------------------

# Numba: Just-In-Time (JIT) compilation for performance-critical loops in
# weighted quantile computation and kernel weight calculations. Version >=0.54.0
# for Python 3.9+ support. Uncomment if processing >10,000 daily observations.
# numba>=0.54.0,<1.0.0

# ------------------------------------------------------------------------------
# Optional: Type Checking & Static Analysis (Development Quality Assurance)
# ------------------------------------------------------------------------------

# mypy: Static type checker for enforcing type hints across the codebase,
# ensuring type safety in generic functions (Callable, Union, Optional),
# and validating numerical stability routines. Version >=0.910 for improved
# NumPy type stub support.
# mypy>=0.910

# ------------------------------------------------------------------------------
# Optional: Data Source Integration (WRDS/CRSP Access)
# ------------------------------------------------------------------------------

# wrds: Official Python library for Wharton Research Data Services database
# access. Required only if ingesting CRSP data programmatically rather than
# using pre-downloaded CSV files. Version >=3.1.0 for improved connection pooling.
# wrds>=3.1.0

# psycopg2-binary: PostgreSQL adapter for WRDS database connections. Required
# as a dependency of the wrds library.
# psycopg2-binary>=2.9.0

# ------------------------------------------------------------------------------
# Optional: Advanced Statistical Testing (Extended Backtesting Suite)
# ------------------------------------------------------------------------------

# statsmodels: ARCH/GARCH volatility modeling for baseline comparisons,
# Augmented Dickey-Fuller (ADF) test for nonstationarity detection, and
# additional likelihood ratio test utilities. Version >=0.13.0 for stable
# time series modules.
# statsmodels>=0.13.0,<1.0.0

# ------------------------------------------------------------------------------
# Optional: Notebook Integration (Interactive Experimentation)
# ------------------------------------------------------------------------------

# Jupyter: Interactive notebook environment for exploratory data analysis,
# hyperparameter tuning visualizations, and step-by-step algorithm debugging.
# Version >=1.0.0 for stable kernel management.
# jupyter>=1.0.0

# ipywidgets: Interactive widgets for real-time bandwidth slider adjustments
# and dynamic VaR threshold exploration in notebook environments.
# ipywidgets>=7.6.0

# ------------------------------------------------------------------------------
# NOTES ON VERSION COMPATIBILITY
# ------------------------------------------------------------------------------
#
# 1. NumPy 2.x Compatibility: If upgrading to NumPy 2.0+ in the future, verify
#    that all downstream packages (pandas, scipy, scikit-learn) support the new
#    C API changes. As of 2024-Q4, ecosystem stabilization is ongoing.
#
# 2. Pandas 2.x Migration: Pandas 2.0 introduced PyArrow-backed dtypes and
#    deprecated several indexing behaviors. If upgrading, audit all .loc/.iloc
#    calls and ensure copy-on-write (CoW) semantics are respected.
#
# 3. scikit-learn API Stability: The quantile regression interface in
#    GradientBoostingRegressor has been stable since v1.0.0, but monitor
#    deprecation warnings if upgrading to v1.5+.
#
# 4. Python Version Floor: This codebase requires Python >=3.9 for:
#    - `from __future__ import annotations` (PEP 563, deferred evaluation)
#    - dict union operators (PEP 584, `|` for merging)
#    - Type hinting generics in standard collections (PEP 585, `list[int]`)
#
# 5. Reproducibility: For exact numerical reproducibility across machines,
#    consider pinning to exact versions (e.g., `numpy==1.24.3`) rather than
#    ranges. This is critical for academic research validation.
#
# ==============================================================================#